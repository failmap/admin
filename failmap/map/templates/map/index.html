<!DOCTYPE html>{% load static %} {% load i18n %} {% load compress %}
<html lang="nl">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=0.5, user-scalable=no, minimal-ui">
    <meta name="theme-color" content="Tomato"/>
    <!-- export variables to javascript from server configuration -->
    <meta name="mailto" content="{{ config.MAILTO }}">
    <meta name="sentry_token" content="{{ sentry_token }}">
    <meta name="version" content="{{ version }}">

    <title>{% trans "Site Title" %}</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="shortcut icon" type="image/png" href="{% static 'favicons/favicon.ico' %}"/>
    <link rel="apple-touch-icon" href="{% static 'favicons/apple-icon.png' %}">
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'favicons/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'favicons/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'favicons/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'favicons/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'favicons/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'favicons/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'favicons/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'favicons/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicons/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{% static 'favicons/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'favicons/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicons/favicon-16x16.png' %}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{% static 'favicons/ms-icon-144x144.png' %}">

    {% compress css %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/leaflet.css' %}"/>
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/bootstrap_v3.3.6.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/bootstrap-theme_v3.3.6.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/leaflet.fullscreen.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/overrides.css' %}">
    {% endcompress %}

    <script type="text/javascript" src="{% url 'javascript-catalog' %}"></script>
    {% if debug %}
        <script type="text/javascript" src="{% static 'js/vendor/vue.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/jquery-3.2.1.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/bootstrap.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/leaflet-src.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/Leaflet.fullscreen.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/lazyload-custom.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/raven.min.vue.3.19.1.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/d3.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/graphs.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/failmap.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/views.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/script.js' %}"></script>
    {% else %}{% compress js %}
        <script type="text/javascript" src="{% static 'js/vendor/vue.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/jquery-3.2.1.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/bootstrap.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/leaflet.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/Leaflet.fullscreen.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/lazyload-custom.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/raven.min.vue.3.19.1.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/d3.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/graphs.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/failmap.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/views.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/script.js' %}"></script>
    {% endcompress %}{% endif %}

    <link rel="manifest" href="/manifest.json">
</head>

<body role="document">
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="sr-only">{% trans "Toggle navigation" %}</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">{% trans "Fail Map" %}</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="#intro">{% trans "About" %}</a></li>
                <li><a href="#">{% trans "Map" %}</a></li>
                <li><a href="#improvements">{% trans "Improvements" %}</a></li>
                <li><a href="#numbers">{% trans "Numbers" %}</a></li>
                <li><a href="#graphs">{% trans "Graphs" %}</a></li>
                <li><a href="#charts">{% trans "Charts" %}</a></li>
                <li><a href="#updates">{% trans "Updates" %}</a></li>
                <li><a href="#report">{% trans "Report" %}</a></li>
                <li><a href="#export">{% trans "Export" %}</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            {% if debug %}
                <li><span style="margin-top:10px;" class='btn btn-danger btn-sm btn-block'>{% trans "DEBUG" %}</span></li>
            {% endif %}
            {% if admin %}
                <li><span class="navbar-text"><span class="label label-default">{{ version }}</span></span></li>
                <li><a href="{% url 'admin:index' %}">{% trans "Admin" %}</a></li>
						{% else %}
								<li><a href="https://failmap.org"><img src="{% static 'images/fail_logo.png' %}" width="24px" class="d-inline-block align-top"/></a></li>
                <li><a href="https://gitlab.com/failmap/failmap/"><img src="{% static 'images/gitlab_logo.png' %}" width="24px" class="d-inline-block align-top"/></a></li>
            {% endif %}
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<nav class="navbar navbar-default navbar-static-top" id="countrynavbar" v-if="countries.length > 1" v-cloak>
    <div class="container">
        <div class="navbar-collapse">
            <ul class="nav navbar-nav navbar-center">
                <li v-for="(x, key) in countries" v-bind:class="[selected == x ? 'selected_country' : '']">
                    <a v-on:click="set_country(x)">
                        <img :src="'static/flags/' + x + '.gif'" width="16" height="10">
                        {% verbatim %}{{ translate("country_" + x) }}{% endverbatim %}</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<nav class="navbar navbar-default navbar-static-top" id="categorynavbar" v-if="categories.length > 1" v-cloak>
    <div class="container">
        <div class="navbar-collapse">
            <ul class="nav navbar-nav navbar-center">
                <li v-for="(x, key) in categories" v-bind:class="[selected == x ? 'selected_category' : '']">
                    <a v-on:click="set_category(x)">
                        {% verbatim %}{{ translate("category_menu_" + x) }}{% endverbatim %}</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id='map'></div>

<div class="container theme-showcase" role="main">
    <a name="intro" class="jumptonav"></a>
    <div class="jumbotron">
        <h1>{% trans "Fail Map" %}</h1>
        <p>{% trans "Fail Map Introduction" %}</p>
        <p>{% trans "Send in subdomain adresses" %}</p>
    </div>

    {% include "map/target_audience.html" %}

    <div id="issue_improvements" v-cloak>
        <div class="page-header">
            <a name="improvements" class="jumptonav"></a>
            <h2>{% trans "Improvements" %}</h2>
            <p>{% trans "Improvements explained" %}</p>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>
        <div class="row">
            <div class="col-md-4" style="text-align:center">
                <h4>{% trans "High" %}</h4>
                {% verbatim %}
                    <span :class="goodbad(overall.high) + '_large'">{{ overall.high }}</span>
                {% endverbatim %}

            </div>
            <div class="col-md-4" style="text-align:center">
                <h4>{% trans "Medium" %}</h4>
                {% verbatim %}
                    <span :class="goodbad(overall.high) + '_large'">{{ overall.medium }}</span>
                {% endverbatim %}
            </div>
            <div class="col-md-4" style="text-align:center">
                <h4>{% trans "Low" %}</h4>
                {% verbatim %}
                    <span :class="goodbad(overall.high) + '_large'">{{ overall.low }}</span>
                {% endverbatim %}
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h4>{% trans "Improvements Details" %}</h4>
                <table class="improvementstable">
                    <tr><th colspan="2" class="improvement_severity">{% trans "High" %}</th>
                        <th colspan="4" class="improvement_severity">{% trans "Medium" %}</th>
                        <th colspan="3" class="improvement_severity">{% trans "Low" %}</th>
                    </tr>
                    {% verbatim %}
                    <tr>
                        <td :class="'number-sm ' + goodbad(tls_qualys.high)">{{ tls_qualys.high }}</td>
                        <td :class="'number-sm ' + goodbad(plain_https.high)">{{ plain_https.high }}</td>
                        <td :class="'number-sm ' + goodbad(tls_qualys.medium)">{{ tls_qualys.medium }}</td>
                        <td :class="'number-sm ' + goodbad(plain_https.medium)">{{ plain_https.medium }}</td>
                        <td :class="'number-sm ' + goodbad(security_headers_strict_transport_security.medium)">{{ security_headers_strict_transport_security.medium }}</td>
                        <td :class="'number-sm ' + goodbad(security_headers_x_frame_options.medium)">{{ security_headers_x_frame_options.medium }}</td>
                        <td :class="'number-sm ' + goodbad(tls_qualys.low)">{{ tls_qualys.low }}</td>
                        <td :class="'number-sm ' + goodbad(security_headers_x_xss_protection.low)">{{ security_headers_x_xss_protection.low }}</td>
                        <td :class="'number-sm ' + goodbad(security_headers_x_content_type_options.low)">{{ security_headers_x_content_type_options.low }}</td>
                    </tr>
                    {% endverbatim %}
                    <tr>
                        <td>{% trans "Encryption" %}</td>
                        <td>{% trans "Missing encryption" %}</td>
                        <td>{% trans "Encryption" %}</td>
                        <td>{% trans "Missing encryption" %}</td>
                        <td>{% trans "HSTS Header" %}</td>
                        <td>{% trans "XFO Header" %}</td>
                        <td>{% trans "Encryption" %}</td>
                        <td>{% trans "X-XSS" %}</td>
                        <td>{% trans "X-Content" %}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>


    <div id="statistics" v-cloak>
        <div class="page-header">
            <a name="numbers" class="jumptonav"></a>
            <h2>{% trans "The Numbers" %}</h2>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Organizations" %}</h3>
                <p>{% trans "Organizations Explained" %}</p>
            </div>
            <div class="col-md-6">
                <h3>{% trans "Internet addresses" %}</h3>
                <p>{% trans "Internet addresses Explained" %}</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" :style="{width:greenpercentage}">
                        <span class="sr-only">{% trans "stats remark green" %}</span>
                    </div>
                    <div class="progress-bar progress-bar-warning" :style="{width:orangepercentage}">
                        <span class="sr-only">{% trans "stats remark orange" %}</span>
                    </div>
                    <div class="progress-bar progress-bar-danger" :style="{width:redpercentage}">
                        <span class='sr-only'>{% trans "stats remark red" %}</span>
                    </div>
                    <div class="progress-bar progress-bar-basic" :style="{width:unknownpercentage}">
                        <span class='sr-only'>{% trans "stats remark gray" %}</span>
                    </div>
                </div>

                <table class="table">
                    <thead>
                    <tr>
                        <th width="30%">{% trans "When" %}</th>
                        <th width="15%">{% trans "Number" %}</th>
                        <th width="18%">{% trans "Good" %}</th>
                        <th width="18%">{% trans "Average" %}</th>
                        <th width="18%">{% trans "Bad" %}</th>
                    </tr>
                    </thead>
                    <tbody v-if="data.data">
                    {% verbatim %}
                    <tr v-for="(x, key) in data.data">
                        <td>{{ translate(key) }}</td>
                        <td>{{ x["included_organizations"] }}</td>
                        <td :style="'background: linear-gradient(0deg, #dff9d7 0%, #dff9d7 ' + x['green percentage'] + '%, white ' + x['green percentage'] + '%, white 100%);'">
                            {{ x["green"] }}
                            <small>({{ x["green percentage"] }}%)</small>
                        </td>
                        <td :style="'background: linear-gradient(0deg, #ffefd3 0%, #ffefd3 ' + x['orange percentage'] + '%, white ' + x['orange percentage'] + '%, white 100%);'">
                            {{ x["orange"] }}
                            <small>({{ x["orange percentage"] }}%)</small>
                        </td>
                        <td :style="'background: linear-gradient(0deg, #fbeaea 0%, #fbeaea ' + x['red percentage'] + '%, white ' + x['red percentage'] + '%, white 100%);'">
                            {{ x["red"] }}
                            <small>({{ x["red percentage"] }}%)</small>
                        </td>
                    </tr>
                    {% endverbatim %}
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" :style="{width:greenurlpercentage}">
                        <span class="sr-only">Oh, wow!</span>
                    </div>
                    <div class="progress-bar progress-bar-warning" :style="{width:orangeurlpercentage}">
                        <span class="sr-only">Pretty fair, but not really there.</span>
                    </div>
                    <div class="progress-bar progress-bar-danger" :style="{width:redurlpercentage}">
                        <span class='sr-only'>They have a lot to learn.</span>
                    </div>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th width="30%">{% trans "When" %}</th>
                        <th width="15%">{% trans "Number" %}</th>
                        <th width="18%">{% trans "Good" %}</th>
                        <th width="18%">{% trans "Average" %}</th>
                        <th width="18%">{% trans "Bad" %}</th>
                    </tr>
                    </thead>
                    <tbody v-if="data.data">
                    {% verbatim %}
                    <tr v-for="(x, key) in data.data">
                        <td>{{ translate(key) }}</td>
                        <td>{{ x["total_urls"] }}</td>
                        <td :style="'background: linear-gradient(0deg, #dff9d7 0%, #dff9d7 ' + x['green url percentage'] + '%, white ' + x['green url percentage'] + '%, white 100%);'">
                            {{ x["green_urls"] }}
                            <small>({{ x["green url percentage"] }}%)</small>
                        </td>
                        <td :style="'background: linear-gradient(0deg, #ffefd3 0%, #ffefd3 ' + x['orange url percentage'] + '%, white ' + x['orange url percentage'] + '%, white 100%);'">
                            {{ x["orange_urls"] }}
                            <small>({{ x["orange url percentage"] }}%)</small>
                        </td>
                        <td :style="'background: linear-gradient(0deg, #fbeaea 0%, #fbeaea ' + x['red url percentage'] + '%, white ' + x['red url percentage'] + '%, white 100%);'">
                            {{ x["red_urls"] }}
                            <small>({{ x["red url percentage"] }}%)</small>
                        </td>
                    </tr>
                    {% endverbatim %}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Technical TLS" %}</h3>
                <p>{% trans "Technical stats TLS explained" %}</p>
            </div>
            <div class="col-md-6">
                <h3>{% trans "Technical stats headers" %}</h3>
                <p>{% trans "Technical stats headers explained" %}</p>
            </div>
        </div>
        <div class="row" v-if="data.data">
            <div class="col-md-6">
                <div v-for="(x, key) in data.data" v-if="key == 'now'">
                    <table class="table" v-if="x['explained']">
                        <thead>
                        <tr>
                            <th width="10%">{% trans "Technology" %}</th>
                            <th width="50%">{% trans "Result" %}</th>
                            <th width="40%">{% trans "Total" %}</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% verbatim %}
                        <tr v-if="x['explained']['plain_https']">
                            <td colspan="3">{% endverbatim %}{% trans "Application of encryption" %}{% verbatim %}</td>
                        </tr>
                        <tr v-if="x['explained']['plain_https']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Not at all" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['plain_https']['Site does not redirect to secure url, and has nosecure alternative on a standard port.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['plain_https']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Not at all" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['plain_https']['Site does not redirect to secure url, and has no secure alternative on a standard port.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['plain_https']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Redirect from unsafe address" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['plain_https']['Redirects to a secure site, while a secure counterpart on the standard port is missing.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']">
                            <td colspan="3">{% endverbatim %} {% trans "Encryption quality" %}{% verbatim %}</td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Broken" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Broken Transport Security, rated F'] }}</td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "No trust" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Certificate not valid for domain name.'] }}</td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "No trust, C" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Could not establish trust.  For the certificate installation: Less than optimal Transport Security, rated C.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "No trust, B" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Could not establish trust.  For the certificate installation: Less than optimal Transport Security, rated B.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "No trust, A-" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Could not establish trust.  For the certificate installation: Good Transport Security, rated A-.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="redrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "No trust, A" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Could not establish trust.  For the certificate installation: Good Transport Security, rated A.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "TLS rated C" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Less than optimal Transport Security, rated C.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "TLS rated B" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Less than optimal Transport Security, rated B.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "TLS rated A-" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Good Transport Security, rated A-.'] }}</td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "TLS rated A" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Good Transport Security, rated A.'] }}</td>
                        </tr>
                        <tr v-if="x['explained']['tls_qualys']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "TLS rated A+" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['tls_qualys']['Perfect Transport Security, rated A+.'] }}</td>
                        </tr>
                        {% endverbatim %}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-6">
                <div v-for="(x, key) in data.data" v-if="key == 'now'">
                    <table class="table" v-if="x['explained']">
                        <thead>
                        <tr>
                            <th width="10%">{% trans "Technology" %}</th>
                            <th width="50%">{% trans "Result" %}</th>
                            <th width="40%">{% trans "Total" %}</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% verbatim %}
                        <tr v-if="x['explained']['security_headers_strict_transport_security']">
                            <td colspan="3">{% endverbatim %}{% trans "Stats HSTS" %}{% verbatim %}</td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_strict_transport_security']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats hasn't" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_strict_transport_security']['Missing Strict-Transport-Security header.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_strict_transport_security']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats has" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_strict_transport_security']['Strict-Transport-Security header present.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_frame_options']">
                            <td colspan="3">{% endverbatim %}{% trans "Stats X-Frame-Options" %}{% verbatim %}</td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_frame_options']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats hasn't" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_frame_options']['Missing X-Frame-Options header.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_frame_options']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats has" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_frame_options']['X-Frame-Options header present.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_xss_protection']">
                            <td colspan="3">{% endverbatim %}{% trans "Stats X-XSS Protection" %}{% verbatim %}</td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_xss_protection']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats hasn't" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_xss_protection']['Missing X-XSS-Protection header.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_xss_protection']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats has" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_xss_protection']['X-XSS-Protection header present.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_content_type_options']">
                            <td colspan="3">{% endverbatim %}{% trans "Stats X-Content Type Options" %}{% verbatim %}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_content_type_options']" class="orangerow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats hasn't" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_content_type_options']['Missing X-Content-Type-Options header.'] }}
                            </td>
                        </tr>
                        <tr v-if="x['explained']['security_headers_x_content_type_options']" class="greenrow">
                            <td></td>
                            <td>{% endverbatim %}{% trans "Stats has" %}{% verbatim %}:</td>
                            <td>{{ x['explained']['security_headers_x_content_type_options']['X-Content-Type-Options header present.'] }}
                            </td>
                        </tr>
                        {% endverbatim %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row" v-if="data.data">
            <div class="col-md-6">
                <h3>{% trans "Services" %}</h3>
                <p>{% trans "Services explained" %}</p>
                {% verbatim %}
                <div v-for="(x, key) in data.data" v-if="key == 'now'">
                    <p>{% endverbatim %}{% trans "Number of service checked" %}</p>
                    <table class="table">
                        <tr>
                            <th>{% trans "Service" %}</th>
                            <th>{% trans "Amount" %}</th>
                            <th>{% trans "Percentage" %}</th>
                        </tr>
                        {% verbatim %}
                        <tr v-for="(xx, xkey) in x['endpoint']">
                            <td>{{ xx[0] }}</td>
                            <td>{{ xx[1] }}</td>
                            <td>{{ ((xx[1]/x['endpoints']) * 100).toFixed(2) }}%</td>
                        </tr>
                    </table>
                </div>
                {% endverbatim %}
            </div>
            <div class="col-md-6">
            </div>
        </div>
    </div>

    <div id="graphs" v-cloak>
        <div class="page-header">
            <a name="graphs" class="jumptonav"></a>
            <h2>{% trans "Graphs" %}</h2>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Encryption failure" %}</h3>
                <svg id="tls_qualys" width="555" height="300"></svg>
            </div>
            <div class="col-md-6">
                <h3>{% trans "Lack of encryption failure" %}</h3>
                <svg id="plain_https" width="555" height="300"></svg>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Forcing of encryption failure" %}</h3>
                <svg id="security_headers_strict_transport_security" width="555" height="300"></svg>
            </div>
            <div class="col-md-6">
                <h3>{% trans "X-Frame Options failure" %}</h3>
                <svg id="security_headers_x_frame_options" width="555" height="300"></svg>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "X-Content-Type-Options failure" %}</h3>
                <svg id="security_headers_x_content_type_options" width="555" height="300"></svg>
            </div>
            <div class="col-md-6">
                <h3>{% trans "X-XSS-Protection failure" %}</h3>
                <svg id="security_headers_x_xss_protection" width="555" height="300"></svg>
            </div>
        </div>
    </div>

    <div id="charts">
        <div class="page-header">
            <a name="charts" class="jumptonav"></a>
            <h2>{% trans "Charts" %}</h2>
            <p>{% trans "Chart introduction" %}</p>
            <p></p>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>
        <div class="row">
            {% include "map/topfail.html" %}
            {% include "map/topwin.html" %}
        </div>
        <div class="row">
            {% include "map/terrible_urls.html" %}
        </div>
    </div>

    <div id="latest_scans">
        <div class="page-header">
            <a name="updates" class="jumptonav"></a>
            <h2>{% trans "Latest changes" %}</h2>
            {% trans "Latest changes explanation" %}
            <p></p>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Encryption updates" %}</h3>
                <p>{% trans "RSS feed teaser" %} <a href="/data/feed/tls_qualys"
                                                    target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_tls_qualys"></span>
            </div>
            <div class="col-md-6">
                <h3>{% trans "Lack of encryption updates" %}</h3>
                <p>{% trans "RSS feed teaser" %} <a href="/data/feed/plain_https"
                                                    target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_plain_https"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "Forcing encryption updates" %}</h3>
                <p>{% trans "RSS feed teaser" %} <a href="/data/feed/Strict-Transport-Security"
                                                    target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_security_headers_strict_transport_security"></span>
            </div>
            <div class="col-md-6">
                <h3>{% trans "X-Frame-Options updates" %}</h3>
                <p>{% trans "RSS feed teaser" %}<a href="/data/feed/X-Frame-Options"
                                                   target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_security_headers_x_frame_options"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h3>{% trans "X-Content-Type-Option updates" %}</h3>
                <p>{% trans "RSS feed teaser" %} <a href="/data/feed/X-Content-Type-Options"
                                                    target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_security_headers_x_content_type_options"></span>
            </div>
            <div class="col-md-6">
                <h3>{% trans "X-XSS-Protection updates" %}</h3>
                <p>{% trans "RSS feed teaser" %} <a href="/data/feed/X-XSS-Protection"
                                                    target="_blank">{% trans "rss feed" %}</a>.</p>
                <span id="latest_security_headers_x_xss_protection"></span>
            </div>
        </div>
    </div>

    <div class="page-header" id="report">
        <div>
            <div class="page-header">
                <a name="report" id="report-anchor" class="jumptonav"></a>
                <h2><span class="organization_points"></span>{% trans "Report" %}</h2>
                <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
            </div>
            <div>
                <div>
                    {% trans "Show report for organization" %}:
                    {% verbatim %}
                    <select v-model="selected">
                        <option v-for="organization in organizations" :value="organization.slug">
                            {{ organization.name }}
                        </option>
                    </select>
                    <span v-if='loading'> (loading...)</span>
                    {% endverbatim %}
                </div>
                <br/>
                <div v-if="name">

                    <div class="score high">
                        <span class="score_value high_text">{% verbatim %}{{ high }}{% endverbatim %}</span><br/>
                        <span class="score_label">{% trans "High" %}</span>
                    </div>

                    <div class="score medium">
                        <span class="score_value medium_text">{% verbatim %}{{ medium }}{% endverbatim %}</span><br/>
                        <span class="score_label">{% trans "Medium" %}</span>
                    </div>

                    <div class="score low">
                        <span class="score_value low_text">{% verbatim %}{{ low }}{% endverbatim %}</span><br/>
                        <span class="score_label">{% trans "Low" %}</span>
                    </div>

                    <br style="clear: both">
                    <br />
                    <i>{% trans "Data from" %}: {% verbatim %}{{ humanize(when) }}{% endverbatim %}.</i><br/>
                    <br/>
                    <ul>
                    {% verbatim %}
                    <li v-if="promise" id="promise"><strong>*</strong> {% trans "Promise message" %}
                    </li>
                    {% endverbatim %}
                    <li>{% trans "RSS change feed teaser" %}
                    <a :href="'/data/updates_on_organization_feed/' + selected"
                    target="_blank">{% trans "rss feed" %}</a>.</li>
                    <li>
                    {% trans "Report share result question" %} {% verbatim %}<span
                        v-html="create_twitter_link(name, twitter_handle, points)"></span>{% endverbatim %}<br/>
                    </li>
                    <li>
                    {% trans "Report ask domains leader" %} <a
                        :href="'mailto:' + mailto + '?subject={% trans "Report ask domains subject" %}' + name + '&body={% trans "Report ask domains body" %}'">{% trans "Report ask sendin domains" %}</a><br/>
                    </li>
                    </ul>
                    <br/>
                    {% verbatim %}
                    <div v-for="url in urls" class="perurl"
                         :style="'background: linear-gradient(' + colorizebg(url.high, url.medium, url.low) + ', white);'">

                        <div class="col-md-4">
                            &nbsp;
                        </div>
                        <div class="col-md-8">
                            <span v-html="total_awarded_points(url.high, url.medium, url.low)"> </span>
                            <span class="faildomain" :class="colorize(url.high, url.medium, url.low)"
                                  :data-tooltip-content="idizetag(url.url)">{{ url.url }}</span><br/>
                            <a :href="'mailto:' + mailto + '?subject={% endverbatim %}{% trans "Incorrect finding on mail subject" %}{% verbatim %}' + url.url + '&body={% endverbatim %}{% trans "Incorrect finding on mail body" %}{% verbatim %}'"
                               class="btn btn-default btn-sm" style="margin-top: 11px;" role="button">
                                {% endverbatim %}{% trans "Report incorrect finding" %}{% verbatim %}</a>
                        </div>

                        <div v-for="endpoint in url.endpoints">
                            <div class="col-md-4 giveroom">
                                <a :href="endpoint.protocol + '://' + url.url + ':' + endpoint.port"
                                   target="_blank"
                                   :title="'Visit ' + endpoint.protocol + '://' + url.url + ':' + endpoint.port">
                                    <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="
                                         class="lazyload clippedimage" :data-src="'/static/images/screenshots/'+ endpoint.protocol + idize(url.url) + endpoint.port + '_latest.png'"
                                        :alt="'Latest screenshot of '+ endpoint.protocol + idize(url.url) + endpoint.port"
                                    />
                                </a>
                            </div>
                            <div class="col-md-8 giveroom">
                                <h4>{% endverbatim %}{% trans "Service" %}: {% verbatim %}{{endpoint_type(endpoint) }}</h4>

                                <div>
                                    <div v-for="rating in endpoint.ratings">
                                        <h5>&nbsp; {{ create_header(rating) }}</h5>
                                        &nbsp; &nbsp; <span
                                            v-html="awarded_points(rating.high, rating.medium, rating.low)"></span> {{
                                        translate(rating.explanation) }}<br/>
                                        &nbsp; &nbsp; {% endverbatim %}{% trans "Since" %}{% verbatim %}: {{
                                        humanize(rating.since) }}, {% endverbatim %}{% trans "Last check" %}{% verbatim %}:
                                        {{ humanize(rating.last_scan) }} <br/>
                                        &nbsp; &nbsp; <span v-html="second_opinion_links(rating, url)"> </span>
                                        <br/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endverbatim %}
            </div>
        </div>
    </div>

    <div id="export">
        <div class="page-header">
            <a name="export" class="jumptonav"></a>
            <h2>{% trans "Export" %}</h2>
            {% trans "Export explanation" %}
            <p></p>
            <a href="#" class="backtomap">{% trans "back to map" %} ↑</a>
        </div>
        <div class="row">
            <div class="col-md-12">
                <table style="width:100%">
                    <thead>
                        <tr>
                            <th>{% trans "Category" %}</th>
                            <th>{% trans "List of only urls" %}</th>
                            <th>{% trans "Copy of organization_types" %}*</th>
                            <th>{% trans "Copy of organizations" %}*</th>
                            <th>{% trans "Copy of coordinates" %}*</th>
                            <th>{% trans "Copy of urls" %}*</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="category in categories">
                            <td>{% verbatim %}{{ translate("category_menu_" + category) }}{% endverbatim %}</td>
                            <td><a :href="create_link(category, 'urls_only')">{% trans "Download" %} ⬇️</a></td>
                            <td><a :href="create_link(category, 'organization_types')">{% trans "Download" %} ⬇️</a></td>
                            <td><a :href="create_link(category, 'organizations')">{% trans "Download" %} ⬇️</a></td>
                            <td><a :href="create_link(category, 'coordinates')">{% trans "Download" %} ⬇️</a></td>
                            <td><a :href="create_link(category, 'urls')">{% trans "Download" %} ⬇️</a></td>
                        </tr>
                    </tbody>
                </table>
                <br /><br />
                <p>* = {% trans "export_failmap_compatible_explained" %}</p>
            </div>
        </div>
    </div>

    <br style="clear: both">

    <div id="lastrow">
        <div class="row">
            <a name="footer" class="jumptonav"></a>

            <div class="col-md-2 logoandtext">
                <div class="logo fail_logo">
                    <a href="https://internetcleanup.foundation" target="_blank">
                        <img class="lazyload" data-src="{% static 'images/internet_cleanup_foundation_logo.png' %}"
                             alt="Internet Cleanup Foundation Logo"
                             src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="/>
                    </a>
                </div>
                <b><a href="https://internetcleanup.foundation" target="_blank">Internet Cleanup Foundation</a></b>
                <p>Let's clean up the internet: our privacy depends on it.</p>
            </div>
            <div class="col-md-2 logoandtext">
                <div class="logo sidn_logo">
                    <a href="https://www.sidnfonds.nl/" target="_blank">
                        <img class="lazyload" data-src="{% static 'images/sidnfonds-logo.png' %}" alt="SIDN Fonds Logo"
                             src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="/>
                    </a>
                </div>
                <b><a href="https://www.sidnfonds.nl/" target="_blank">SIDN fonds</a></b>
                <p>Invests in a resillient internet for everyone.</p>
            </div>
            <div class="col-md-2 logoandtext">
                <div class="logo git_logo">
                    <a href="https://gitlab.com/failmap/" target="_blank">
                        <img class="lazyload" data-src="{% static 'images/gitlab_logo.png' %}" alt="Gitlab Logo"
                             src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="/>
                    </a>
                </div>
                <b><a href="https://github.com/failmap/" target="_blank">Fail Map</a></b>
                <p>Fail map is open software maintained by the Internet Cleanup Foundation.</p>
            </div>
            <div class="col-md-6">
                <b>Bescherm je gegevens! Doneer nu!</b><br/>
                <p>We houden organisaties scherp om ieders gegevens te beschermen. Vind je dit cool? Jouw donatie zorgt
                    voor blijvende updates, onderhoud en nieuwe controles!</p>
                <p>
                    <b>Doneer gemakkelijk, veilig en snel door op een bedrag te klikken:</b>
                </p>
                <div class="donatebuttons">
                    <span class="Donate a25"><a href="https://useplink.com/payment/qaCyn8t6Tar7c5zVS6Fa/25"
                                                target="_blank">&euro; 20</a></span>
                    <span class="Donate a50"><a href="https://useplink.com/payment/qaCyn8t6Tar7c5zVS6Fa/50"
                                                target="_blank">&euro; 50</a></span>
                    <span class="Donate a100"><a href="https://useplink.com/payment/qaCyn8t6Tar7c5zVS6Fa/100"
                                                 target="_blank">&euro; 100</a></span>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="ticker" v-if="visible" v-cloak>
    <p class="marquee very-huge"><span><span v-html="get_tickertext()"></span></span></p>
</div>

</body>
<script type="x-template" id="fullscreenreport">
    {% verbatim %}
    <div class="page-header" id="fullscreenreport" v-if="visible">
        <div v-if="name" class="fullscreenlayout">
            <h1>
                {{ name }}
            </h1>
            <p class="closebutton" onclick="vueFullScreenReport.hide()">
                X
            </p>
            <div>{% endverbatim %}
               <!-- copy of report -->
                {% trans "Report share result question" %} {% verbatim %}<span
                        v-html="create_twitter_link(name, twitter_handle, points)"></span>{% endverbatim %}<br/>
                    <br/>
                    {% trans "Data from" %}: {% verbatim %}{{ humanize(when) }}{% endverbatim %}<br/>
                    {% trans "Score" %}<span v-if="promise"><strong>*</strong></span>:<br/>
                    {% trans "High" %}: {% verbatim %}{{ high }}{% endverbatim %} <br/>
                    {% trans "Medium" %}: {% verbatim %}{{ medium }}{% endverbatim %} <br/>
                    {% trans "Low" %}: {% verbatim %}{{ low }}{% endverbatim %} <br/>
                    {% trans "congratulations" %}!
                    <br/>
                    <br/>
                    {% trans "Report ask pentest leader" %} <a
                        :href="'mailto:' + mailto + '?subject={% trans "Report ask pentest subject" %}' + name + '&body={% trans "Report ask pentest body" %}'">{% trans "Report ask request pentest" %}</a><br/>
                    {% trans "Report ask domains leader" %} <a
                        :href="'mailto:' + mailto + '?subject={% trans "Report ask domains subject" %}' + name + '&body={% trans "Report ask domains body" %}'">{% trans "Report ask sendin domains" %}</a><br/>
                    <br/>
                    {% verbatim %}
                    <div v-if="promise" id="promise"><strong>*</strong> {% trans "Promise message" %}
                    </div>
                    {% endverbatim %}
                    <br/>
                    {% verbatim %}
                    <div v-for="url in urls" class="perurl"
                         :style="'background: linear-gradient(' + colorizebg(url.high, url.medium, url.low) + ', white);'">

                        <div class="col-md-4">
                            &nbsp;
                        </div>
                        <div class="col-md-8">
                            <span v-html="total_awarded_points(url.high, url.medium, url.low)"> </span>
                            <span class="faildomain" :class="colorize(url.high, url.medium, url.low)"
                                  :data-tooltip-content="idizetag(url.url)">{{ url.url }}</span><br/>
                            <a :href="'mailto:' + mailto + '?subject={% endverbatim %}{% trans "Incorrect finding on mail subject" %}{% verbatim %}' + url.url + '&body={% endverbatim %}{% trans "Incorrect finding on mail body" %}{% verbatim %}'"
                               class="btn btn-default btn-sm" style="margin-top: 11px;" role="button">
                                {% endverbatim %}{% trans "Report incorrect finding" %}{% verbatim %}</a>
                        </div>

                        <div v-for="endpoint in url.endpoints">
                            <div class="col-md-4 giveroom">
                                <a :href="endpoint.protocol + '://' + url.url + ':' + endpoint.port"
                                   target="_blank"
                                   :title="'Visit ' + endpoint.protocol + '://' + url.url + ':' + endpoint.port">
                                    <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="
                                         class="lazyload clippedimage" :data-src="'/static/images/screenshots/'+ endpoint.protocol + idize(url.url) + endpoint.port + '_latest.png'"
                                        :alt="'Latest screenshot of '+ endpoint.protocol + idize(url.url) + endpoint.port"
                                    />
                                </a>
                            </div>
                            <div class="col-md-8 giveroom">
                                <h4>{% endverbatim %}{% trans "Service" %}: {% verbatim %}{{endpoint_type(endpoint) }}</h4>

                                <div>
                                    <div v-for="rating in endpoint.ratings">
                                        <h5>&nbsp; {{ create_header(rating) }}</h5>
                                        &nbsp; &nbsp; <span
                                            v-html="awarded_points(rating.high, rating.medium, rating.low)"></span> {{
                                        translate(rating.explanation) }}<br/>
                                        &nbsp; &nbsp; {% endverbatim %}{% trans "Since" %}{% verbatim %}: {{
                                        humanize(rating.since) }}, {% endverbatim %}{% trans "Last check" %}{% verbatim %}:
                                        {{ humanize(rating.last_scan) }} <br/>
                                        &nbsp; &nbsp; <span v-html="second_opinion_links(rating, url)"> </span>
                                        <br/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <!-- end copy of report -->
            </div>
        </div>
    </div>
    {% endverbatim %}
</script>
<script type="x-template" id="latest_table">
    <table class="table table-striped changes">
        <thead>
        <tr>
            <th>{% trans "Scan moment" %}</th>
            <th>{% trans "Url" %}</th>
        </tr>
        </thead>
        <tbody v-for='scan in scans'>
        {% verbatim %}
        <tr :class="rowcolor(scan)">
            <td class="date">{{ scan.last_scan_humanized }}</td>
            <td class="url">{{ scan.url }}</td>
        </tr>
        <tr>
            <td class="service">{{ scan.service }}</td>
            <td colspan="2" class="explanation">{{ translate(scan.explanation) }}</td>
        </tr>
        {% endverbatim %}
        </tbody>
    </table>
</script>
</html>
<!--
This page was generated with MSPAINT.EXE on {{ timestamp }} in over 9000 seconds, version: {{ version }}.
-->
